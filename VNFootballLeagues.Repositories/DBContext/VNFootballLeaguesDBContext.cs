// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using Microsoft.EntityFrameworkCore;
using Microsoft.Extensions.Configuration;
using System;
using System.Collections.Generic;
using VNFootballLeagues.Repositories.Models;

namespace VNFootballLeagues.Repositories.DBContext;

public partial class VNFootballLeaguesDBContext : DbContext
{
    public VNFootballLeaguesDBContext()
    {
    }

    public VNFootballLeaguesDBContext(DbContextOptions<VNFootballLeaguesDBContext> options)
        : base(options)
    {
    }

    public virtual DbSet<AnalyticsArticle> AnalyticsArticles { get; set; }

    public virtual DbSet<ArticleReference> ArticleReferences { get; set; }

    public virtual DbSet<Competition> Competitions { get; set; }

    public virtual DbSet<League> Leagues { get; set; }

    public virtual DbSet<Match> Matches { get; set; }

    public virtual DbSet<MatchPlayer> MatchPlayers { get; set; }

    public virtual DbSet<MatchStatistic> MatchStatistics { get; set; }

    public virtual DbSet<Player> Players { get; set; }

    public virtual DbSet<PlayerRating> PlayerRatings { get; set; }

    public virtual DbSet<PlayerSeason> PlayerSeasons { get; set; }

    public virtual DbSet<PlayerSeasonSummary> PlayerSeasonSummaries { get; set; }

    public virtual DbSet<Position> Positions { get; set; }

    public virtual DbSet<PositionMetricWeight> PositionMetricWeights { get; set; }

    public virtual DbSet<RatingExplanation> RatingExplanations { get; set; }

    public virtual DbSet<Role> Roles { get; set; }

    public virtual DbSet<Season> Seasons { get; set; }

    public virtual DbSet<Team> Teams { get; set; }

    public virtual DbSet<User> Users { get; set; }

    public static string GetConnectionString(string connectionStringName)
    {
        var config = new ConfigurationBuilder()
            .SetBasePath(AppDomain.CurrentDomain.BaseDirectory)
            .AddJsonFile("appsettings.json")
            .Build();

        string connectionString = config.GetConnectionString(connectionStringName);
        return connectionString;
    }

    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        => optionsBuilder.UseSqlServer(GetConnectionString("DefaultConnection")).UseQueryTrackingBehavior(QueryTrackingBehavior.NoTracking);

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<AnalyticsArticle>(entity =>
        {
            entity.HasKey(e => e.ArticleId).HasName("PK__analytic__CC36F660A11A6CD9");

            entity.ToTable("analytics_article");

            entity.Property(e => e.ArticleId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("article_id");
            entity.Property(e => e.AuthorId).HasColumnName("author_id");
            entity.Property(e => e.Content)
                .IsRequired()
                .HasColumnName("content");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.PublishedAt)
                .HasDefaultValueSql("(sysdatetime())")
                .HasColumnName("published_at");
            entity.Property(e => e.Title)
                .IsRequired()
                .HasMaxLength(200)
                .HasColumnName("title");

            entity.HasOne(d => d.Author).WithMany(p => p.AnalyticsArticles)
                .HasForeignKey(d => d.AuthorId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_article_author");
        });

        modelBuilder.Entity<ArticleReference>(entity =>
        {
            entity.HasKey(e => e.ReferenceId).HasName("PK__article___8E860B284219DB70");

            entity.ToTable("article_reference");

            entity.Property(e => e.ReferenceId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("reference_id");
            entity.Property(e => e.ArticleId).HasColumnName("article_id");
            entity.Property(e => e.CompetitionId).HasColumnName("competition_id");
            entity.Property(e => e.MatchId).HasColumnName("match_id");
            entity.Property(e => e.PlayerId).HasColumnName("player_id");

            entity.HasOne(d => d.Article).WithMany(p => p.ArticleReferences)
                .HasForeignKey(d => d.ArticleId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_ref_article");

            entity.HasOne(d => d.Competition).WithMany(p => p.ArticleReferences)
                .HasForeignKey(d => d.CompetitionId)
                .HasConstraintName("fk_ref_competition");

            entity.HasOne(d => d.Match).WithMany(p => p.ArticleReferences)
                .HasForeignKey(d => d.MatchId)
                .HasConstraintName("fk_ref_match");

            entity.HasOne(d => d.Player).WithMany(p => p.ArticleReferences)
                .HasForeignKey(d => d.PlayerId)
                .HasConstraintName("fk_ref_player");
        });

        modelBuilder.Entity<Competition>(entity =>
        {
            entity.HasKey(e => e.CompetitionId).HasName("PK__competit__BB383B587E12E1BA");

            entity.ToTable("competition");

            entity.Property(e => e.CompetitionId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("competition_id");
            entity.Property(e => e.CompetitionName)
                .IsRequired()
                .HasMaxLength(100)
                .HasColumnName("competition_name");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.SeasonId).HasColumnName("season_id");

            entity.HasOne(d => d.Season).WithMany(p => p.Competitions)
                .HasForeignKey(d => d.SeasonId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_competition_season");
        });

        modelBuilder.Entity<League>(entity =>
        {
            entity.HasKey(e => e.LeagueId).HasName("PK__league__EBE3BB2F2C6CCA0A");

            entity.ToTable("league");

            entity.Property(e => e.LeagueId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("league_id");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.LeagueName)
                .IsRequired()
                .HasMaxLength(100)
                .HasColumnName("league_name");
        });

        modelBuilder.Entity<Match>(entity =>
        {
            entity.HasKey(e => e.MatchId).HasName("PK__match__9D7FCBA32614FA96");

            entity.ToTable("match");

            entity.Property(e => e.MatchId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("match_id");
            entity.Property(e => e.AwayScore).HasColumnName("away_score");
            entity.Property(e => e.AwayTeamId).HasColumnName("away_team_id");
            entity.Property(e => e.CompetitionId).HasColumnName("competition_id");
            entity.Property(e => e.HomeScore).HasColumnName("home_score");
            entity.Property(e => e.HomeTeamId).HasColumnName("home_team_id");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.MatchDatetime).HasColumnName("match_datetime");
            entity.Property(e => e.MatchStatus)
                .HasMaxLength(30)
                .HasColumnName("match_status");
            entity.Property(e => e.SeasonId).HasColumnName("season_id");
            entity.Property(e => e.Venue)
                .HasMaxLength(100)
                .HasColumnName("venue");

            entity.HasOne(d => d.AwayTeam).WithMany(p => p.MatchAwayTeams)
                .HasForeignKey(d => d.AwayTeamId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_match_away_team");

            entity.HasOne(d => d.Competition).WithMany(p => p.Matches)
                .HasForeignKey(d => d.CompetitionId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_match_competition");

            entity.HasOne(d => d.HomeTeam).WithMany(p => p.MatchHomeTeams)
                .HasForeignKey(d => d.HomeTeamId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_match_home_team");

            entity.HasOne(d => d.Season).WithMany(p => p.Matches)
                .HasForeignKey(d => d.SeasonId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_match_season");
        });

        modelBuilder.Entity<MatchPlayer>(entity =>
        {
            entity.HasKey(e => e.MatchPlayerId).HasName("PK__match_pl__BDC519FA04A1D42C");

            entity.ToTable("match_player");

            entity.Property(e => e.MatchPlayerId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("match_player_id");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.LineupStatus)
                .HasMaxLength(30)
                .HasColumnName("lineup_status");
            entity.Property(e => e.MatchId).HasColumnName("match_id");
            entity.Property(e => e.MinutesPlayed).HasColumnName("minutes_played");
            entity.Property(e => e.PlayerId).HasColumnName("player_id");
            entity.Property(e => e.PositionId).HasColumnName("position_id");
            entity.Property(e => e.TeamId).HasColumnName("team_id");

            entity.HasOne(d => d.Match).WithMany(p => p.MatchPlayers)
                .HasForeignKey(d => d.MatchId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_mp_match");

            entity.HasOne(d => d.Player).WithMany(p => p.MatchPlayers)
                .HasForeignKey(d => d.PlayerId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_mp_player");

            entity.HasOne(d => d.Position).WithMany(p => p.MatchPlayers)
                .HasForeignKey(d => d.PositionId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_mp_position");

            entity.HasOne(d => d.Team).WithMany(p => p.MatchPlayers)
                .HasForeignKey(d => d.TeamId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_mp_team");
        });

        modelBuilder.Entity<MatchStatistic>(entity =>
        {
            entity.HasKey(e => e.StatisticId).HasName("PK__match_st__770EBB1D8CF5682D");

            entity.ToTable("match_statistic");

            entity.Property(e => e.StatisticId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("statistic_id");
            entity.Property(e => e.Assists).HasColumnName("assists");
            entity.Property(e => e.FoulsCommitted).HasColumnName("fouls_committed");
            entity.Property(e => e.Goals).HasColumnName("goals");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.MatchPlayerId).HasColumnName("match_player_id");
            entity.Property(e => e.PassesCompleted).HasColumnName("passes_completed");
            entity.Property(e => e.Shots).HasColumnName("shots");
            entity.Property(e => e.ShotsOnTarget).HasColumnName("shots_on_target");
            entity.Property(e => e.Tackles).HasColumnName("tackles");

            entity.HasOne(d => d.MatchPlayer).WithMany(p => p.MatchStatistics)
                .HasForeignKey(d => d.MatchPlayerId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_stat_match_player");
        });

        modelBuilder.Entity<Player>(entity =>
        {
            entity.HasKey(e => e.PlayerId).HasName("PK__player__44DA120CBAC6FCB1");

            entity.ToTable("player");

            entity.Property(e => e.PlayerId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("player_id");
            entity.Property(e => e.DateOfBirth).HasColumnName("date_of_birth");
            entity.Property(e => e.FullName)
                .IsRequired()
                .HasMaxLength(100)
                .HasColumnName("full_name");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.Nationality)
                .HasMaxLength(50)
                .HasColumnName("nationality");
            entity.Property(e => e.PrimaryPositionId).HasColumnName("primary_position_id");

            entity.HasOne(d => d.PrimaryPosition).WithMany(p => p.Players)
                .HasForeignKey(d => d.PrimaryPositionId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_player_position");
        });

        modelBuilder.Entity<PlayerRating>(entity =>
        {
            entity.HasKey(e => e.RatingId).HasName("PK__player_r__D35B278B3F67912E");

            entity.ToTable("player_rating");

            entity.Property(e => e.RatingId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("rating_id");
            entity.Property(e => e.CalculatedAt)
                .HasDefaultValueSql("(sysdatetime())")
                .HasColumnName("calculated_at");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.MatchPlayerId).HasColumnName("match_player_id");
            entity.Property(e => e.RatingScore)
                .HasColumnType("decimal(5, 2)")
                .HasColumnName("rating_score");

            entity.HasOne(d => d.MatchPlayer).WithMany(p => p.PlayerRatings)
                .HasForeignKey(d => d.MatchPlayerId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_rating_match_player");
        });

        modelBuilder.Entity<PlayerSeason>(entity =>
        {
            entity.HasKey(e => e.PlayerSeasonId).HasName("PK__player_s__C9075277A638C2C4");

            entity.ToTable("player_season");

            entity.Property(e => e.PlayerSeasonId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("player_season_id");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.JerseyNumber).HasColumnName("jersey_number");
            entity.Property(e => e.PlayerId).HasColumnName("player_id");
            entity.Property(e => e.SeasonId).HasColumnName("season_id");
            entity.Property(e => e.TeamId).HasColumnName("team_id");

            entity.HasOne(d => d.Player).WithMany(p => p.PlayerSeasons)
                .HasForeignKey(d => d.PlayerId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_ps_player");

            entity.HasOne(d => d.Season).WithMany(p => p.PlayerSeasons)
                .HasForeignKey(d => d.SeasonId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_ps_season");

            entity.HasOne(d => d.Team).WithMany(p => p.PlayerSeasons)
                .HasForeignKey(d => d.TeamId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_ps_team");
        });

        modelBuilder.Entity<PlayerSeasonSummary>(entity =>
        {
            entity.HasKey(e => e.SummaryId).HasName("PK__player_s__85F93E83BFFD9D88");

            entity.ToTable("player_season_summary");

            entity.Property(e => e.SummaryId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("summary_id");
            entity.Property(e => e.AverageRating)
                .HasColumnType("decimal(5, 2)")
                .HasColumnName("average_rating");
            entity.Property(e => e.FormTrend)
                .HasMaxLength(30)
                .HasColumnName("form_trend");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.LastUpdated)
                .HasDefaultValueSql("(sysdatetime())")
                .HasColumnName("last_updated");
            entity.Property(e => e.MatchesPlayed).HasColumnName("matches_played");
            entity.Property(e => e.PlayerId).HasColumnName("player_id");
            entity.Property(e => e.SeasonId).HasColumnName("season_id");
            entity.Property(e => e.TotalAssists).HasColumnName("total_assists");
            entity.Property(e => e.TotalGoals).HasColumnName("total_goals");

            entity.HasOne(d => d.Player).WithMany(p => p.PlayerSeasonSummaries)
                .HasForeignKey(d => d.PlayerId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_pss_player");

            entity.HasOne(d => d.Season).WithMany(p => p.PlayerSeasonSummaries)
                .HasForeignKey(d => d.SeasonId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_pss_season");
        });

        modelBuilder.Entity<Position>(entity =>
        {
            entity.HasKey(e => e.PositionId).HasName("PK__position__99A0E7A400F5A9A4");

            entity.ToTable("position");

            entity.Property(e => e.PositionId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("position_id");
            entity.Property(e => e.Description).HasColumnName("description");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.PositionCode)
                .IsRequired()
                .HasMaxLength(20)
                .HasColumnName("position_code");
            entity.Property(e => e.PositionGroup)
                .HasMaxLength(50)
                .HasColumnName("position_group");
        });

        modelBuilder.Entity<PositionMetricWeight>(entity =>
        {
            entity.HasKey(e => e.WeightId).HasName("PK__position__453932ACA37112CB");

            entity.ToTable("position_metric_weight");

            entity.Property(e => e.WeightId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("weight_id");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.MetricName)
                .IsRequired()
                .HasMaxLength(50)
                .HasColumnName("metric_name");
            entity.Property(e => e.PositionId).HasColumnName("position_id");
            entity.Property(e => e.WeightValue)
                .HasColumnType("decimal(5, 2)")
                .HasColumnName("weight_value");

            entity.HasOne(d => d.Position).WithMany(p => p.PositionMetricWeights)
                .HasForeignKey(d => d.PositionId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_weight_position");
        });

        modelBuilder.Entity<RatingExplanation>(entity =>
        {
            entity.HasKey(e => e.ExplanationId).HasName("PK__rating_e__045F8FA30FBCBE20");

            entity.ToTable("rating_explanation");

            entity.Property(e => e.ExplanationId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("explanation_id");
            entity.Property(e => e.CalculationSummary).HasColumnName("calculation_summary");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.NegativeContributions).HasColumnName("negative_contributions");
            entity.Property(e => e.PositiveContributions).HasColumnName("positive_contributions");
            entity.Property(e => e.RatingId).HasColumnName("rating_id");

            entity.HasOne(d => d.Rating).WithMany(p => p.RatingExplanations)
                .HasForeignKey(d => d.RatingId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_explanation_rating");
        });

        modelBuilder.Entity<Role>(entity =>
        {
            entity.HasKey(e => e.RoleId).HasName("PK__role__760965CC5B902EAA");

            entity.ToTable("role");

            entity.HasIndex(e => e.RoleName, "UQ__role__783254B1E69A756A").IsUnique();

            entity.Property(e => e.RoleId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("role_id");
            entity.Property(e => e.RoleName)
                .IsRequired()
                .HasMaxLength(50)
                .HasColumnName("role_name");
        });

        modelBuilder.Entity<Season>(entity =>
        {
            entity.HasKey(e => e.SeasonId).HasName("PK__season__0A99E33180043339");

            entity.ToTable("season");

            entity.Property(e => e.SeasonId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("season_id");
            entity.Property(e => e.IsCurrent).HasColumnName("is_current");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.LeagueId).HasColumnName("league_id");
            entity.Property(e => e.SeasonName)
                .IsRequired()
                .HasMaxLength(50)
                .HasColumnName("season_name");
            entity.Property(e => e.Year).HasColumnName("year");

            entity.HasOne(d => d.League).WithMany(p => p.Seasons)
                .HasForeignKey(d => d.LeagueId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_season_league");
        });

        modelBuilder.Entity<Team>(entity =>
        {
            entity.HasKey(e => e.TeamId).HasName("PK__team__F82DEDBCF0033E0C");

            entity.ToTable("team");

            entity.Property(e => e.TeamId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("team_id");
            entity.Property(e => e.City)
                .HasMaxLength(100)
                .HasColumnName("city");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.LeagueId).HasColumnName("league_id");
            entity.Property(e => e.TeamName)
                .IsRequired()
                .HasMaxLength(100)
                .HasColumnName("team_name");

            entity.HasOne(d => d.League).WithMany(p => p.Teams)
                .HasForeignKey(d => d.LeagueId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_team_league");
        });

        modelBuilder.Entity<User>(entity =>
        {
            entity.HasKey(e => e.UserId).HasName("PK__user__B9BE370FF45283BA");

            entity.ToTable("user");

            entity.HasIndex(e => e.Email, "UQ__user__AB6E616489484514").IsUnique();

            entity.HasIndex(e => e.Username, "UQ__user__F3DBC572256AE1FE").IsUnique();

            entity.Property(e => e.UserId)
                .HasDefaultValueSql("(newid())")
                .HasColumnName("user_id");
            entity.Property(e => e.CreatedAt)
                .HasDefaultValueSql("(sysdatetime())")
                .HasColumnName("created_at");
            entity.Property(e => e.Email)
                .IsRequired()
                .HasMaxLength(100)
                .HasColumnName("email");
            entity.Property(e => e.IsActive)
                .HasDefaultValue(true)
                .HasColumnName("is_active");
            entity.Property(e => e.IsDeleted).HasColumnName("is_deleted");
            entity.Property(e => e.PasswordHash)
                .IsRequired()
                .HasMaxLength(255)
                .HasColumnName("password_hash");
            entity.Property(e => e.RoleId).HasColumnName("role_id");
            entity.Property(e => e.Username)
                .IsRequired()
                .HasMaxLength(50)
                .HasColumnName("username");

            entity.HasOne(d => d.Role).WithMany(p => p.Users)
                .HasForeignKey(d => d.RoleId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("fk_user_role");
        });

        OnModelCreatingPartial(modelBuilder);
    }

    partial void OnModelCreatingPartial(ModelBuilder modelBuilder);
}